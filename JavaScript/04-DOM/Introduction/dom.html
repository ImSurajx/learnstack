<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Learning Repository</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
            background-color: #f4f4f4;
            color: #333;
        }
        h1, h2, h3 {
            color: #0056b3;
        }
        section {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .example-box {
            background-color: #e9ecef;
            border: 1px solid #ced4da;
            padding: 15px;
            margin-top: 10px;
            border-radius: 5px;
        }
        .example-box pre {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
        .example-output {
            margin-top: 10px;
            padding: 10px;
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
        }
        .highlight {
            background-color: yellow;
            font-weight: bold;
        }
        button {
            padding: 8px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

    <h1>DOM Learning Repository</h1>

    <section id="dom-introduction">
        <h2>1. Document Object Model (DOM) Introduction</h2>
        <p>The Document Object Model (DOM) is a programming interface for web documents. It represents the page so that programs can change the document structure, style, and content. The DOM represents the document as nodes and objects. That way, programming languages can connect to the page. It's essentially a tree-like structure of all the elements on a web page.</p>
        <p>When a web page is loaded, the browser creates a DOM of the page. This allows JavaScript (and other scripting languages) to access and manipulate the HTML and CSS of the page. Each HTML element, attribute, and piece of text becomes a node in the DOM tree.</p>
    </section>

    <section id="dom-format">
        <h2>2. Format of DOM: Window, Document, HTML, etc.</h2>
        <p>The DOM has a hierarchical structure, often visualized as a tree. Here's a breakdown of key objects and their relationships:</p>
        <ul>
            <li><strong>Window Object:</strong> This is the global object for JavaScript in the browser environment. It represents the browser window itself. All global JavaScript objects, functions, and variables are automatically members of the window object. It contains properties like <code>window.document</code>, <code>window.history</code>, <code>window.location</code>, etc.</li>
            <li><strong>Document Object:</strong> This object represents the HTML document loaded in the window. It's the entry point to the content of the page. It provides methods and properties to access and manipulate elements, create new elements, handle events, and more. For example, <code>document.getElementById()</code>, <code>document.createElement()</code>.</li>
            <li><strong>HTML Element Objects:</strong> Each HTML tag (e.g., <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>, <code>&lt;body&gt;</code>, <code>&lt;div&gt;</code>, <code>&lt;p&gt;</code>, <code>&lt;a&gt;</code>) is represented as an object in the DOM tree. These objects have properties (like <code>id</code>, <code>className</code>, <code>style</code>) and methods (like <code>addEventListener()</code>).</li>
            <li><strong>Text Nodes:</strong> The actual text content within elements is represented as text nodes.</li>
            <li><strong>Attribute Nodes:</strong> Attributes of HTML elements (e.g., <code>id="myElement"</code>, <code>href="link.html"</code>) are also nodes in the DOM.</li>
        </ul>
        <div class="example-box">
            <p><strong>Conceptual Hierarchy:</strong></p>
            <pre>
Window
  |
  +-- Document
        |
        +-- html
              |
              +-- head
              |     +-- meta
              |     +-- title
              |     +-- link (for CSS)
              |     +-- script (for JS)
              |
              +-- body
                    |
                    +-- header
                    |     +-- h1
                    |
                    +-- main
                    |     +-- section
                    |           +-- p
                    |           +-- div
                    |
                    +-- footer
            </pre>
        </div>
    </section>

    <section id="dom-selectors">
        <h2>3. DOM Selectors: Each Selector with Perfectly Working Example</h2>
        <p>DOM selectors are methods that allow you to select one or more elements from the document. Once selected, you can manipulate them.</p>

        <h3>3.1. <code>document.getElementById('idName')</code></h3>
        <p>Selects a single element by its unique ID. Returns the element object or <code>null</code> if not found.</p>
        <div class="example-box">
            <p id="myElementId">This is an element with a unique ID.</p>
            <button onclick="changeElementById()">Change Element by ID</button>
            <div class="example-output" id="outputById"></div>
        </div>

        <h3>3.2. <code>document.getElementsByClassName('className')</code></h3>
        <p>Selects all elements with a specific class name. Returns an HTMLCollection (live collection) of elements. You need to iterate over it.</p>
        <div class="example-box">
            <p class="myClassName">This is the first paragraph with class.</p>
            <div class="myClassName">This is a div with the same class.</div>
            <span class="myClassName">And a span with the class.</span>
            <button onclick="changeElementsByClass()">Change Elements by Class</button>
            <div class="example-output" id="outputByClass"></div>
        </div>

        <h3>3.3. <code>document.getElementsByTagName('tagName')</code></h3>
        <p>Selects all elements with a specific tag name. Returns an HTMLCollection (live collection).</p>
        <div class="example-box">
            <ul>
                <li>List Item 1</li>
                <li>List Item 2</li>
                <li>List Item 3</li>
            </ul>
            <button onclick="changeElementsByTag()">Change Elements by Tag</button>
            <div class="example-output" id="outputByTag"></div>
        </div>

        <h3>3.4. <code>document.querySelector('CSS-selector')</code></h3>
        <p>Selects the first element that matches a specified CSS selector. Can select by ID, class, tag, attribute, etc. Returns the element object or <code>null</code>.</p>
        <div class="example-box">
            <p class="firstQuery">This is the first paragraph for querySelector.</p>
            <p class="secondQuery">This is the second paragraph for querySelector.</p>
            <button onclick="changeElementByQuery()">Change Element by Query Selector</button>
            <div class="example-output" id="outputByQuery"></div>
        </div>

        <h3>3.5. <code>document.querySelectorAll('CSS-selector')</code></h3>
        <p>Selects all elements that match a specified CSS selector. Returns a NodeList (static collection). You can iterate over it using <code>forEach</code>.</p>
        <div class="example-box">
            <div class="allQuery">Div 1 for querySelectorAll</div>
            <p class="allQuery">Paragraph 2 for querySelectorAll</p>
            <span class="allQuery">Span 3 for querySelectorAll</span>
            <button onclick="changeElementsByQueryAll()">Change Elements by Query Selector All</button>
            <div class="example-output" id="outputByQueryAll"></div>
        </div>
    </section>

    <section id="dom-change-elements">
        <h2>4. How We Change the Element Using DOM with Proper Working Example</h2>
        <p>Once you've selected an element, you can modify its content, attributes, and structure.</p>

        <h3>4.1. Changing Text Content: <code>element.textContent</code>, <code>element.innerText</code>, <code>element.innerHTML</code> (see next section for differences)</h3>
        <div class="example-box">
            <p id="contentChangePara">Original paragraph content.</p>
            <button onclick="changeContent()">Change Paragraph Content</button>
            <div class="example-output" id="contentOutput"></div>
        </div>

        <h3>4.2. Changing Attributes: <code>element.setAttribute('attributeName', 'newValue')</code>, <code>element.getAttribute('attributeName')</code>, <code>element.removeAttribute('attributeName')</code></h3>
        <div class="example-box">
            <a id="myLink" href="https://www.google.com" target="_blank">Google Link</a>
            <button onclick="changeLinkAttribute()">Change Link Href</button>
            <div class="example-output" id="attributeOutput"></div>
        </div>

        <h3>4.3. Adding/Removing Classes: <code>element.classList.add()</code>, <code>element.classList.remove()</code>, <code>element.classList.toggle()</code></h3>
        <div class="example-box">
            <p id="classChangePara" class="initial-class">This paragraph has an initial class.</p>
            <button onclick="toggleClass()">Toggle Class</button>
            <div class="example-output" id="classOutput"></div>
        </div>

        <h3>4.4. Creating and Appending Elements: <code>document.createElement('tagName')</code>, <code>parentNode.appendChild(childNode)</code>, <code>parentNode.insertBefore(newNode, referenceNode)</code></h3>
        <div class="example-box">
            <div id="parentDiv">
                <p>Existing paragraph in parent div.</p>
            </div>
            <button onclick="addRemoveElements()">Add/Remove Elements</button>
            <div class="example-output" id="elementManipulationOutput"></div>
        </div>
    </section>

    <section id="dom-style">
        <h2>5. How We Style Using DOM with Proper Working Example</h2>
        <p>You can directly manipulate the CSS styles of an element using the <code>element.style</code> property. This applies inline styles.</p>

        <h3>5.1. Direct Style Manipulation: <code>element.style.propertyName = 'value'</code></h3>
        <div class="example-box">
            <p id="styleChangePara">This paragraph will have its style changed.</p>
            <button onclick="changeStyle()">Change Paragraph Style</button>
            <div class="example-output" id="styleOutput"></div>
        </div>

        <h3>5.2. Using Classes for Styling (Recommended for complex styling)</h3>
        <p>While direct style manipulation is possible, it's generally better practice to define styles in CSS classes and then add/remove these classes using <code>classList</code> as shown in the "Changing Attributes" section.</p>
        <div class="example-box">
            <p id="classStylePara">This paragraph will be styled via class toggling.</p>
            <button onclick="toggleHighlight()">Toggle Highlight Style</button>
            <div class="example-output" id="classStyleOutput"></div>
        </div>
    </section>

    <section id="dom-content-differences">
        <h2>6. Difference Between innerHTML, innerText, and textContent</h2>
        <p>These properties are used to get or set the content of an element, but they handle HTML tags and hidden content differently.</p>
        <ul>
            <li>
                <strong><code>element.innerHTML</code>:</strong>
                <ul>
                    <li>Gets or sets the HTML content (including tags) within an element.</li>
                    <li>If setting, it parses the string as HTML.</li>
                    <li>Is aware of HTML tags and renders them.</li>
                    <li>Can be a security risk if used with untrusted input (XSS vulnerability).</li>
                </ul>
            </li>
            <li>
                <strong><code>element.innerText</code>:</strong>
                <ul>
                    <li>Gets or sets the "rendered" text content of an element and its descendants.</li>
                    <li>It's aware of CSS styling and won't return text that is hidden (e.g., via <code>display: none;</code>).</li>
                    <li>Does not include HTML tags.</li>
                    <li>Performance can be an issue as it involves layout computation.</li>
                </ul>
            </li>
            <li>
                <strong><code>element.textContent</code>:</strong>
                <ul>
                    <li>Gets or sets the text content of an element and all its descendants.</li>
                    <li>It's not aware of CSS styling, so it will return text even if it's hidden by CSS.</li>
                    <li>Does not include HTML tags.</li>
                    <li>Generally preferred for getting/setting plain text due to better performance and predictability.</li>
                </ul>
            </li>
        </ul>
        <div class="example-box">
            <div id="contentDiffDiv" style="display: block;">
                <p style="display: none;">This is a <span style="font-weight: bold;">hidden</span> paragraph.</p>
                Hello, <strong>World!</strong>
                </div>
            <button onclick="showContentDifferences()">Show Content Differences</button>
            <div class="example-output" id="contentDiffOutput"></div>
        </div>
    </section>

    <section id="dom-nodelist-iteration">
        <h2>7. If We Create a NodeList, How We Can Iterate Through It Using <code>forEach</code></h2>
        <p><code>NodeList</code> is a collection of nodes, often returned by methods like <code>querySelectorAll()</code>. While it's array-like, it's not a true array. However, modern browsers provide a <code>forEach</code> method directly on NodeLists.</p>
        <div class="example-box">
            <ul id="myNodeList">
                <li>Node List Item 1</li>
                <li>Node List Item 2</li>
                <li>Node List Item 3</li>
            </ul>
            <button onclick="iterateNodeList()">Iterate NodeList</button>
            <div class="example-output" id="nodeListIteratorOutput"></div>
        </div>
        <p>Alternatively, you can use a traditional <code>for</code> loop or convert it to an array first (as shown in the next section).</p>
    </section>

    <section id="dom-collection-to-array">
        <h2>8. How We Convert Collection into Array</h2>
        <p>HTMLCollection (returned by <code>getElementsByClassName()</code>, <code>getElementsByTagName()</code>) and NodeList (returned by <code>querySelectorAll()</code>) are not true arrays, meaning they don't have all array methods like <code>map()</code>, <code>filter()</code>, etc. You can convert them to a real array if you need to use array-specific methods.</p>
        <h3>8.1. Using <code>Array.from()</code></h3>
        <p>This is the most straightforward and modern way.</p>
        <div class="example-box">
            <div class="convertMe">Div to convert 1</div>
            <p class="convertMe">Paragraph to convert 2</p>
            <span class="convertMe">Span to convert 3</span>
            <button onclick="convertCollectionToArray()">Convert Collection to Array</button>
            <div class="example-output" id="collectionToArrayOutput"></div>
        </div>

        <h3>8.2. Using the Spread Operator (<code>...</code>)</h3>
        <p>Another concise way, especially useful for NodeLists.</p>
        <div class="example-box">
            <li class="spreadItem">Spread Item 1</li>
            <li class="spreadItem">Spread Item 2</li>
            <button onclick="convertCollectionWithSpread()">Convert with Spread Operator</button>
            <div class="example-output" id="spreadToArrayOutput"></div>
        </div>

        <h3>8.3. Using <code>Array.prototype.slice.call()</code> (Older Method)</h3>
        <p>An older but still valid method.</p>
        <div class="example-box">
            <button class="sliceButton">Slice Button 1</button>
            <button class="sliceButton">Slice Button 2</button>
            <button onclick="convertCollectionWithSlice()">Convert with Slice Method</button>
            <div class="example-output" id="sliceToArrayOutput"></div>
        </div>
    </section>

    <script src="script.js"></script>
</body>
</html>